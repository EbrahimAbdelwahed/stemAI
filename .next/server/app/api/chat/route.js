/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_google__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ai-sdk/google */ \"(rsc)/./node_modules/@ai-sdk/google/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_xai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ai-sdk/xai */ \"(rsc)/./node_modules/@ai-sdk/xai/dist/index.mjs\");\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_ai_documents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/ai/documents */ \"(rsc)/./lib/ai/documents.ts\");\n\n\n\n\n\n\n// Allow streaming responses up to 30 seconds\nconst maxDuration = 30;\nasync function POST(req) {\n    const { messages, model = 'grok-3-mini', mode = 'chat' } = await req.json();\n    // Get the last user message to use for RAG\n    const lastUserMessage = messages.filter((message)=>message.role === 'user').pop();\n    // Initialize context with empty string\n    let context = '';\n    // If there's a user message, search for relevant documents\n    if (lastUserMessage) {\n        try {\n            const relevantDocs = await (0,_lib_ai_documents__WEBPACK_IMPORTED_MODULE_0__.searchDocuments)(lastUserMessage.content, 3);\n            if (relevantDocs && relevantDocs.length > 0) {\n                // Format the relevant documents into a context string\n                context = `Here is some relevant information that may help answer the question:\\n\\n` + relevantDocs.map((doc)=>{\n                    return `Document: \"${doc.title}\"\\nContent: ${doc.content}\\n`;\n                }).join('\\n');\n            }\n        } catch (error) {\n            console.error('Error searching documents:', error);\n        // Continue without context if search fails\n        }\n    }\n    const modelConfig = getModelConfig(model, mode);\n    // Add context to the system message if available\n    const system = context ? `${modelConfig.system}\\n\\n${context}` : modelConfig.system;\n    const result = (0,ai__WEBPACK_IMPORTED_MODULE_1__.streamText)({\n        model: modelConfig.model,\n        system,\n        messages,\n        maxSteps: 5,\n        tools: mode === 'generate' ? {\n            generateReactComponent: {\n                description: 'Generate a React component based on the user request',\n                parameters: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    jsx: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().describe('The React JSX code for the component'),\n                    componentName: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().describe('The name of the component'),\n                    description: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().describe('A brief description of what the component does')\n                }),\n                execute: async function({ jsx, componentName, description }) {\n                    // In a real implementation, you might want to format or validate the JSX\n                    return {\n                        jsx,\n                        componentName,\n                        description,\n                        timestamp: new Date().toISOString()\n                    };\n                }\n            }\n        } : undefined\n    });\n    return result.toDataStreamResponse();\n}\nfunction getModelConfig(modelId, mode = 'chat') {\n    // Base system message for the mode\n    const baseSystem = mode === 'generate' ? `You are an expert React developer who excels at creating clean, accessible, and responsive UI components. You're helping a user create React components based on their prompts. Always generate the most minimal, clean React code that fulfills the requirements. Use TypeScript type annotations when appropriate. Always use modern React patterns (e.g., functional components, hooks). Format the JSX beautifully.\n\nWhen generating code, invoke the 'generateReactComponent' tool to provide the complete, ready-to-use component. Each component should be:\n1. Complete and self-contained\n2. Well-typed with TypeScript\n3. Using modern React patterns\n4. Following best practices for accessibility and responsiveness` : `You are a helpful STEM assistant. Focus on providing accurate, educational information about science, technology, engineering, and mathematics. Explain concepts clearly and provide examples where appropriate. If you're unsure about something, acknowledge the limits of your knowledge instead of making up information.`;\n    switch(modelId){\n        case 'grok-3-mini':\n            return {\n                model: (0,_ai_sdk_xai__WEBPACK_IMPORTED_MODULE_3__.xai)('grok-3-mini-beta'),\n                system: mode === 'generate' ? `${baseSystem}\\n\\nYou are powered by Grok-3-Mini with reasoning capabilities.` : `${baseSystem}\\n\\nYou are powered by Grok-3-Mini with reasoning capabilities.`\n            };\n        case 'gemini-2-flask':\n            return {\n                model: (0,_ai_sdk_google__WEBPACK_IMPORTED_MODULE_4__.google)('gemini-2.0-flash-exp'),\n                system: mode === 'generate' ? `${baseSystem}\\n\\nYou are powered by Gemini 2.0 Flask.` : `${baseSystem}\\n\\nYou are powered by Gemini 2.0 Flask.`\n            };\n        default:\n            // Fallback to OpenAI if the requested model is not available\n            return {\n                model: (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_5__.openai)('gpt-4o'),\n                system: mode === 'generate' ? `${baseSystem}\\n\\nYou are powered by GPT-4o.` : `${baseSystem}\\n\\nYou are powered by GPT-4o.`\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDO1lBQzdEO1FBQ0Y7WUFDRSw2REFBNkQ7WUFDN0QsT0FBTztnQkFDTHZDLE9BQU9ULHNEQUFNQSxDQUFDO2dCQUNkNkIsUUFBUW5CLFNBQVMsYUFDYixHQUFHc0MsV0FBVyw4QkFBOEIsQ0FBQyxHQUM3QyxHQUFHQSxXQUFXLDhCQUE4QixDQUFDO1lBQ25EO0lBQ0o7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTdXJmYWNlXFxPbmVEcml2ZVxcRGVza3RvcFxcc3RlbUFJXFxhcHBcXGFwaVxcY2hhdFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYW50aHJvcGljIH0gZnJvbSAnQGFpLXNkay9hbnRocm9waWMnO1xyXG5pbXBvcnQgeyBnb29nbGUgfSBmcm9tICdAYWktc2RrL2dvb2dsZSc7XHJcbmltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0BhaS1zZGsvb3BlbmFpJztcclxuaW1wb3J0IHsgeGFpIH0gZnJvbSAnQGFpLXNkay94YWknO1xyXG5pbXBvcnQgeyBzdHJlYW1UZXh0IH0gZnJvbSAnYWknO1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XHJcbmltcG9ydCB7IHNlYXJjaERvY3VtZW50cyB9IGZyb20gJy4uLy4uLy4uL2xpYi9haS9kb2N1bWVudHMnO1xyXG5cclxuLy8gQWxsb3cgc3RyZWFtaW5nIHJlc3BvbnNlcyB1cCB0byAzMCBzZWNvbmRzXHJcbmV4cG9ydCBjb25zdCBtYXhEdXJhdGlvbiA9IDMwO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHsgbWVzc2FnZXMsIG1vZGVsID0gJ2dyb2stMy1taW5pJywgbW9kZSA9ICdjaGF0JyB9ID0gYXdhaXQgcmVxLmpzb24oKTtcclxuICBcclxuICAvLyBHZXQgdGhlIGxhc3QgdXNlciBtZXNzYWdlIHRvIHVzZSBmb3IgUkFHXHJcbiAgY29uc3QgbGFzdFVzZXJNZXNzYWdlID0gbWVzc2FnZXNcclxuICAgIC5maWx0ZXIoKG1lc3NhZ2U6IGFueSkgPT4gbWVzc2FnZS5yb2xlID09PSAndXNlcicpXHJcbiAgICAucG9wKCk7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSBjb250ZXh0IHdpdGggZW1wdHkgc3RyaW5nXHJcbiAgbGV0IGNvbnRleHQgPSAnJztcclxuICBcclxuICAvLyBJZiB0aGVyZSdzIGEgdXNlciBtZXNzYWdlLCBzZWFyY2ggZm9yIHJlbGV2YW50IGRvY3VtZW50c1xyXG4gIGlmIChsYXN0VXNlck1lc3NhZ2UpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlbGV2YW50RG9jcyA9IGF3YWl0IHNlYXJjaERvY3VtZW50cyhsYXN0VXNlck1lc3NhZ2UuY29udGVudCwgMyk7XHJcbiAgICAgIGlmIChyZWxldmFudERvY3MgJiYgcmVsZXZhbnREb2NzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyBGb3JtYXQgdGhlIHJlbGV2YW50IGRvY3VtZW50cyBpbnRvIGEgY29udGV4dCBzdHJpbmdcclxuICAgICAgICBjb250ZXh0ID0gYEhlcmUgaXMgc29tZSByZWxldmFudCBpbmZvcm1hdGlvbiB0aGF0IG1heSBoZWxwIGFuc3dlciB0aGUgcXVlc3Rpb246XFxuXFxuYCArXHJcbiAgICAgICAgICByZWxldmFudERvY3MubWFwKChkb2MpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGBEb2N1bWVudDogXCIke2RvYy50aXRsZX1cIlxcbkNvbnRlbnQ6ICR7ZG9jLmNvbnRlbnR9XFxuYDtcclxuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgZG9jdW1lbnRzOicsIGVycm9yKTtcclxuICAgICAgLy8gQ29udGludWUgd2l0aG91dCBjb250ZXh0IGlmIHNlYXJjaCBmYWlsc1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgbW9kZWxDb25maWcgPSBnZXRNb2RlbENvbmZpZyhtb2RlbCwgbW9kZSk7XHJcbiAgXHJcbiAgLy8gQWRkIGNvbnRleHQgdG8gdGhlIHN5c3RlbSBtZXNzYWdlIGlmIGF2YWlsYWJsZVxyXG4gIGNvbnN0IHN5c3RlbSA9IGNvbnRleHQgXHJcbiAgICA/IGAke21vZGVsQ29uZmlnLnN5c3RlbX1cXG5cXG4ke2NvbnRleHR9YCBcclxuICAgIDogbW9kZWxDb25maWcuc3lzdGVtO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IHN0cmVhbVRleHQoe1xyXG4gICAgbW9kZWw6IG1vZGVsQ29uZmlnLm1vZGVsLFxyXG4gICAgc3lzdGVtLFxyXG4gICAgbWVzc2FnZXMsXHJcbiAgICBtYXhTdGVwczogNSxcclxuICAgIHRvb2xzOiBtb2RlID09PSAnZ2VuZXJhdGUnID8ge1xyXG4gICAgICBnZW5lcmF0ZVJlYWN0Q29tcG9uZW50OiB7XHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdHZW5lcmF0ZSBhIFJlYWN0IGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgdXNlciByZXF1ZXN0JyxcclxuICAgICAgICBwYXJhbWV0ZXJzOiB6Lm9iamVjdCh7XHJcbiAgICAgICAgICBqc3g6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBSZWFjdCBKU1ggY29kZSBmb3IgdGhlIGNvbXBvbmVudCcpLFxyXG4gICAgICAgICAgY29tcG9uZW50TmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCcpLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkuZGVzY3JpYmUoJ0EgYnJpZWYgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgY29tcG9uZW50IGRvZXMnKSxcclxuICAgICAgICB9KSxcclxuICAgICAgICBleGVjdXRlOiBhc3luYyBmdW5jdGlvbiAoeyBqc3gsIGNvbXBvbmVudE5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcclxuICAgICAgICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91IG1pZ2h0IHdhbnQgdG8gZm9ybWF0IG9yIHZhbGlkYXRlIHRoZSBKU1hcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGpzeCxcclxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSA6IHVuZGVmaW5lZFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmVzdWx0LnRvRGF0YVN0cmVhbVJlc3BvbnNlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGVsQ29uZmlnKG1vZGVsSWQ6IHN0cmluZywgbW9kZTogc3RyaW5nID0gJ2NoYXQnKSB7XHJcbiAgLy8gQmFzZSBzeXN0ZW0gbWVzc2FnZSBmb3IgdGhlIG1vZGVcclxuICBjb25zdCBiYXNlU3lzdGVtID0gbW9kZSA9PT0gJ2dlbmVyYXRlJyBcclxuICAgID8gYFlvdSBhcmUgYW4gZXhwZXJ0IFJlYWN0IGRldmVsb3BlciB3aG8gZXhjZWxzIGF0IGNyZWF0aW5nIGNsZWFuLCBhY2Nlc3NpYmxlLCBhbmQgcmVzcG9uc2l2ZSBVSSBjb21wb25lbnRzLiBZb3UncmUgaGVscGluZyBhIHVzZXIgY3JlYXRlIFJlYWN0IGNvbXBvbmVudHMgYmFzZWQgb24gdGhlaXIgcHJvbXB0cy4gQWx3YXlzIGdlbmVyYXRlIHRoZSBtb3N0IG1pbmltYWwsIGNsZWFuIFJlYWN0IGNvZGUgdGhhdCBmdWxmaWxscyB0aGUgcmVxdWlyZW1lbnRzLiBVc2UgVHlwZVNjcmlwdCB0eXBlIGFubm90YXRpb25zIHdoZW4gYXBwcm9wcmlhdGUuIEFsd2F5cyB1c2UgbW9kZXJuIFJlYWN0IHBhdHRlcm5zIChlLmcuLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIGhvb2tzKS4gRm9ybWF0IHRoZSBKU1ggYmVhdXRpZnVsbHkuXHJcblxyXG5XaGVuIGdlbmVyYXRpbmcgY29kZSwgaW52b2tlIHRoZSAnZ2VuZXJhdGVSZWFjdENvbXBvbmVudCcgdG9vbCB0byBwcm92aWRlIHRoZSBjb21wbGV0ZSwgcmVhZHktdG8tdXNlIGNvbXBvbmVudC4gRWFjaCBjb21wb25lbnQgc2hvdWxkIGJlOlxyXG4xLiBDb21wbGV0ZSBhbmQgc2VsZi1jb250YWluZWRcclxuMi4gV2VsbC10eXBlZCB3aXRoIFR5cGVTY3JpcHRcclxuMy4gVXNpbmcgbW9kZXJuIFJlYWN0IHBhdHRlcm5zXHJcbjQuIEZvbGxvd2luZyBiZXN0IHByYWN0aWNlcyBmb3IgYWNjZXNzaWJpbGl0eSBhbmQgcmVzcG9uc2l2ZW5lc3NgXHJcbiAgICA6IGBZb3UgYXJlIGEgaGVscGZ1bCBTVEVNIGFzc2lzdGFudC4gRm9jdXMgb24gcHJvdmlkaW5nIGFjY3VyYXRlLCBlZHVjYXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCBzY2llbmNlLCB0ZWNobm9sb2d5LCBlbmdpbmVlcmluZywgYW5kIG1hdGhlbWF0aWNzLiBFeHBsYWluIGNvbmNlcHRzIGNsZWFybHkgYW5kIHByb3ZpZGUgZXhhbXBsZXMgd2hlcmUgYXBwcm9wcmlhdGUuIElmIHlvdSdyZSB1bnN1cmUgYWJvdXQgc29tZXRoaW5nLCBhY2tub3dsZWRnZSB0aGUgbGltaXRzIG9mIHlvdXIga25vd2xlZGdlIGluc3RlYWQgb2YgbWFraW5nIHVwIGluZm9ybWF0aW9uLmA7XHJcblxyXG4gIHN3aXRjaCAobW9kZWxJZCkge1xyXG4gICAgY2FzZSAnZ3Jvay0zLW1pbmknOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZGVsOiB4YWkoJ2dyb2stMy1taW5pLWJldGEnKSxcclxuICAgICAgICBzeXN0ZW06IG1vZGUgPT09ICdnZW5lcmF0ZSdcclxuICAgICAgICAgID8gYCR7YmFzZVN5c3RlbX1cXG5cXG5Zb3UgYXJlIHBvd2VyZWQgYnkgR3Jvay0zLU1pbmkgd2l0aCByZWFzb25pbmcgY2FwYWJpbGl0aWVzLmBcclxuICAgICAgICAgIDogYCR7YmFzZVN5c3RlbX1cXG5cXG5Zb3UgYXJlIHBvd2VyZWQgYnkgR3Jvay0zLU1pbmkgd2l0aCByZWFzb25pbmcgY2FwYWJpbGl0aWVzLmAsXHJcbiAgICAgIH07XHJcbiAgICBjYXNlICdnZW1pbmktMi1mbGFzayc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kZWw6IGdvb2dsZSgnZ2VtaW5pLTIuMC1mbGFzaC1leHAnKSxcclxuICAgICAgICBzeXN0ZW06IG1vZGUgPT09ICdnZW5lcmF0ZSdcclxuICAgICAgICAgID8gYCR7YmFzZVN5c3RlbX1cXG5cXG5Zb3UgYXJlIHBvd2VyZWQgYnkgR2VtaW5pIDIuMCBGbGFzay5gXHJcbiAgICAgICAgICA6IGAke2Jhc2VTeXN0ZW19XFxuXFxuWW91IGFyZSBwb3dlcmVkIGJ5IEdlbWluaSAyLjAgRmxhc2suYCxcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIE9wZW5BSSBpZiB0aGUgcmVxdWVzdGVkIG1vZGVsIGlzIG5vdCBhdmFpbGFibGVcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBtb2RlbDogb3BlbmFpKCdncHQtNG8nKSwgXHJcbiAgICAgICAgc3lzdGVtOiBtb2RlID09PSAnZ2VuZXJhdGUnXHJcbiAgICAgICAgICA/IGAke2Jhc2VTeXN0ZW19XFxuXFxuWW91IGFyZSBwb3dlcmVkIGJ5IEdQVC00by5gXHJcbiAgICAgICAgICA6IGAke2Jhc2VTeXN0ZW19XFxuXFxuWW91IGFyZSBwb3dlcmVkIGJ5IEdQVC00by5gLFxyXG4gICAgICB9O1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiZ29vZ2xlIiwib3BlbmFpIiwieGFpIiwic3RyZWFtVGV4dCIsInoiLCJzZWFyY2hEb2N1bWVudHMiLCJtYXhEdXJhdGlvbiIsIlBPU1QiLCJyZXEiLCJtZXNzYWdlcyIsIm1vZGVsIiwibW9kZSIsImpzb24iLCJsYXN0VXNlck1lc3NhZ2UiLCJmaWx0ZXIiLCJtZXNzYWdlIiwicm9sZSIsInBvcCIsImNvbnRleHQiLCJyZWxldmFudERvY3MiLCJjb250ZW50IiwibGVuZ3RoIiwibWFwIiwiZG9jIiwidGl0bGUiLCJqb2luIiwiZXJyb3IiLCJjb25zb2xlIiwibW9kZWxDb25maWciLCJnZXRNb2RlbENvbmZpZyIsInN5c3RlbSIsInJlc3VsdCIsIm1heFN0ZXBzIiwidG9vbHMiLCJnZW5lcmF0ZVJlYWN0Q29tcG9uZW50IiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwib2JqZWN0IiwianN4Iiwic3RyaW5nIiwiZGVzY3JpYmUiLCJjb21wb25lbnROYW1lIiwiZXhlY3V0ZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVuZGVmaW5lZCIsInRvRGF0YVN0cmVhbVJlc3BvbnNlIiwibW9kZWxJZCIsImJhc2VTeXN0ZW0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/documents.ts":
/*!*****************************!*\
  !*** ./lib/ai/documents.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDocument: () => (/* binding */ addDocument),\n/* harmony export */   searchDocuments: () => (/* binding */ searchDocuments)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var _embedding__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./embedding */ \"(rsc)/./lib/ai/embedding.ts\");\n\n\n// Add a document and its embeddings to the database\nasync function addDocument(title, content) {\n    // First, insert the document\n    const [document] = await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_db__WEBPACK_IMPORTED_MODULE_0__.documents).values({\n        title,\n        content\n    }).returning({\n        id: _db__WEBPACK_IMPORTED_MODULE_0__.documents.id\n    });\n    // Generate embeddings for the document\n    const embeddedChunks = await (0,_embedding__WEBPACK_IMPORTED_MODULE_1__.generateEmbeddings)(content);\n    // Insert the chunks with their embeddings\n    for (const chunk of embeddedChunks){\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.insert(_db__WEBPACK_IMPORTED_MODULE_0__.chunks).values({\n            documentId: document.id,\n            content: chunk.content,\n            embedding: chunk.embedding\n        });\n    }\n    return document.id;\n}\n// Search for relevant document chunks based on a query\nasync function searchDocuments(query, limit = 5) {\n    // Generate embedding for the query\n    const [queryEmbedding] = await (0,_embedding__WEBPACK_IMPORTED_MODULE_1__.generateEmbeddings)(query);\n    // Search for the most similar chunks\n    const result = await _db__WEBPACK_IMPORTED_MODULE_0__.db.execute(`\n    SELECT \n      chunks.id,\n      chunks.content,\n      chunks.document_id,\n      documents.title,\n      1 - (chunks.embedding <=> '${JSON.stringify(queryEmbedding.embedding)}') AS similarity\n    FROM chunks\n    JOIN documents ON chunks.document_id = documents.id\n    ORDER BY similarity DESC\n    LIMIT ${limit}\n  `);\n    // Convert the result to a usable array\n    const rows = result.rows;\n    return rows;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvZG9jdW1lbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDRztBQUVqRCxvREFBb0Q7QUFDN0MsZUFBZUksWUFBWUMsS0FBYSxFQUFFQyxPQUFlO0lBQzlELDZCQUE2QjtJQUM3QixNQUFNLENBQUNDLFNBQVMsR0FBRyxNQUFNUCxtQ0FBRUEsQ0FDeEJRLE1BQU0sQ0FBQ1AsMENBQVNBLEVBQ2hCUSxNQUFNLENBQUM7UUFDTko7UUFDQUM7SUFDRixHQUNDSSxTQUFTLENBQUM7UUFBRUMsSUFBSVYsMENBQVNBLENBQUNVLEVBQUU7SUFBQztJQUVoQyx1Q0FBdUM7SUFDdkMsTUFBTUMsaUJBQWlCLE1BQU1ULDhEQUFrQkEsQ0FBQ0c7SUFFaEQsMENBQTBDO0lBQzFDLEtBQUssTUFBTU8sU0FBU0QsZUFBZ0I7UUFDbEMsTUFBTVosbUNBQUVBLENBQUNRLE1BQU0sQ0FBQ04sdUNBQU1BLEVBQUVPLE1BQU0sQ0FBQztZQUM3QkssWUFBWVAsU0FBU0ksRUFBRTtZQUN2QkwsU0FBU08sTUFBTVAsT0FBTztZQUN0QlMsV0FBV0YsTUFBTUUsU0FBUztRQUM1QjtJQUNGO0lBRUEsT0FBT1IsU0FBU0ksRUFBRTtBQUNwQjtBQUVBLHVEQUF1RDtBQUNoRCxlQUFlSyxnQkFBZ0JDLEtBQWEsRUFBRUMsUUFBUSxDQUFDO0lBQzVELG1DQUFtQztJQUNuQyxNQUFNLENBQUNDLGVBQWUsR0FBRyxNQUFNaEIsOERBQWtCQSxDQUFDYztJQUVsRCxxQ0FBcUM7SUFDckMsTUFBTUcsU0FBUyxNQUFNcEIsbUNBQUVBLENBQUNxQixPQUFPLENBQUMsQ0FBQzs7Ozs7O2lDQU1GLEVBQUVDLEtBQUtDLFNBQVMsQ0FBQ0osZUFBZUosU0FBUyxFQUFFOzs7O1VBSWxFLEVBQUVHLE1BQU07RUFDaEIsQ0FBQztJQUVELHVDQUF1QztJQUN2QyxNQUFNTSxPQUFPSixPQUFPSSxJQUFJO0lBUXhCLE9BQU9BO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU3VyZmFjZVxcT25lRHJpdmVcXERlc2t0b3BcXHN0ZW1BSVxcbGliXFxhaVxcZG9jdW1lbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiLCBkb2N1bWVudHMsIGNodW5rcyB9IGZyb20gJy4uL2RiJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVFbWJlZGRpbmdzIH0gZnJvbSAnLi9lbWJlZGRpbmcnO1xyXG5cclxuLy8gQWRkIGEgZG9jdW1lbnQgYW5kIGl0cyBlbWJlZGRpbmdzIHRvIHRoZSBkYXRhYmFzZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkRG9jdW1lbnQodGl0bGU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgLy8gRmlyc3QsIGluc2VydCB0aGUgZG9jdW1lbnRcclxuICBjb25zdCBbZG9jdW1lbnRdID0gYXdhaXQgZGJcclxuICAgIC5pbnNlcnQoZG9jdW1lbnRzKVxyXG4gICAgLnZhbHVlcyh7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBjb250ZW50LFxyXG4gICAgfSlcclxuICAgIC5yZXR1cm5pbmcoeyBpZDogZG9jdW1lbnRzLmlkIH0pO1xyXG5cclxuICAvLyBHZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciB0aGUgZG9jdW1lbnRcclxuICBjb25zdCBlbWJlZGRlZENodW5rcyA9IGF3YWl0IGdlbmVyYXRlRW1iZWRkaW5ncyhjb250ZW50KTtcclxuXHJcbiAgLy8gSW5zZXJ0IHRoZSBjaHVua3Mgd2l0aCB0aGVpciBlbWJlZGRpbmdzXHJcbiAgZm9yIChjb25zdCBjaHVuayBvZiBlbWJlZGRlZENodW5rcykge1xyXG4gICAgYXdhaXQgZGIuaW5zZXJ0KGNodW5rcykudmFsdWVzKHtcclxuICAgICAgZG9jdW1lbnRJZDogZG9jdW1lbnQuaWQsXHJcbiAgICAgIGNvbnRlbnQ6IGNodW5rLmNvbnRlbnQsXHJcbiAgICAgIGVtYmVkZGluZzogY2h1bmsuZW1iZWRkaW5nLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZG9jdW1lbnQuaWQ7XHJcbn1cclxuXHJcbi8vIFNlYXJjaCBmb3IgcmVsZXZhbnQgZG9jdW1lbnQgY2h1bmtzIGJhc2VkIG9uIGEgcXVlcnlcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaERvY3VtZW50cyhxdWVyeTogc3RyaW5nLCBsaW1pdCA9IDUpIHtcclxuICAvLyBHZW5lcmF0ZSBlbWJlZGRpbmcgZm9yIHRoZSBxdWVyeVxyXG4gIGNvbnN0IFtxdWVyeUVtYmVkZGluZ10gPSBhd2FpdCBnZW5lcmF0ZUVtYmVkZGluZ3MocXVlcnkpO1xyXG4gIFxyXG4gIC8vIFNlYXJjaCBmb3IgdGhlIG1vc3Qgc2ltaWxhciBjaHVua3NcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5leGVjdXRlKGBcclxuICAgIFNFTEVDVCBcclxuICAgICAgY2h1bmtzLmlkLFxyXG4gICAgICBjaHVua3MuY29udGVudCxcclxuICAgICAgY2h1bmtzLmRvY3VtZW50X2lkLFxyXG4gICAgICBkb2N1bWVudHMudGl0bGUsXHJcbiAgICAgIDEgLSAoY2h1bmtzLmVtYmVkZGluZyA8PT4gJyR7SlNPTi5zdHJpbmdpZnkocXVlcnlFbWJlZGRpbmcuZW1iZWRkaW5nKX0nKSBBUyBzaW1pbGFyaXR5XHJcbiAgICBGUk9NIGNodW5rc1xyXG4gICAgSk9JTiBkb2N1bWVudHMgT04gY2h1bmtzLmRvY3VtZW50X2lkID0gZG9jdW1lbnRzLmlkXHJcbiAgICBPUkRFUiBCWSBzaW1pbGFyaXR5IERFU0NcclxuICAgIExJTUlUICR7bGltaXR9XHJcbiAgYCk7XHJcbiAgXHJcbiAgLy8gQ29udmVydCB0aGUgcmVzdWx0IHRvIGEgdXNhYmxlIGFycmF5XHJcbiAgY29uc3Qgcm93cyA9IHJlc3VsdC5yb3dzIGFzIEFycmF5PHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICBjb250ZW50OiBzdHJpbmc7XHJcbiAgICBkb2N1bWVudF9pZDogbnVtYmVyO1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuICAgIHNpbWlsYXJpdHk6IG51bWJlcjtcclxuICB9PjtcclxuICBcclxuICByZXR1cm4gcm93cztcclxufSAiXSwibmFtZXMiOlsiZGIiLCJkb2N1bWVudHMiLCJjaHVua3MiLCJnZW5lcmF0ZUVtYmVkZGluZ3MiLCJhZGREb2N1bWVudCIsInRpdGxlIiwiY29udGVudCIsImRvY3VtZW50IiwiaW5zZXJ0IiwidmFsdWVzIiwicmV0dXJuaW5nIiwiaWQiLCJlbWJlZGRlZENodW5rcyIsImNodW5rIiwiZG9jdW1lbnRJZCIsImVtYmVkZGluZyIsInNlYXJjaERvY3VtZW50cyIsInF1ZXJ5IiwibGltaXQiLCJxdWVyeUVtYmVkZGluZyIsInJlc3VsdCIsImV4ZWN1dGUiLCJKU09OIiwic3RyaW5naWZ5Iiwicm93cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/documents.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/embedding.ts":
/*!*****************************!*\
  !*** ./lib/ai/embedding.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateEmbeddings: () => (/* binding */ generateEmbeddings)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\");\n\n\nconst embeddingModel = _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_0__.openai.embedding('text-embedding-3-small');\n// Split text into smaller chunks for embedding\nconst generateChunks = (input, maxChunkSize = 512)=>{\n    const sentences = input.replace(/([.?!])\\s+/g, '$1\\n').split('\\n').filter((sentence)=>sentence.trim() !== '');\n    const chunks = [];\n    let currentChunk = '';\n    for (const sentence of sentences){\n        // If adding this sentence would exceed max chunk size, save current chunk and start a new one\n        if (currentChunk.length + sentence.length > maxChunkSize && currentChunk.length > 0) {\n            chunks.push(currentChunk.trim());\n            currentChunk = sentence;\n        } else {\n            currentChunk += (currentChunk.length > 0 ? ' ' : '') + sentence;\n        }\n    }\n    // Add the last chunk if it's not empty\n    if (currentChunk.trim().length > 0) {\n        chunks.push(currentChunk.trim());\n    }\n    return chunks;\n};\nasync function generateEmbeddings(content) {\n    const chunks = generateChunks(content);\n    const { embeddings } = await (0,ai__WEBPACK_IMPORTED_MODULE_1__.embedMany)({\n        model: embeddingModel,\n        values: chunks\n    });\n    return chunks.map((chunk, index)=>({\n            content: chunk,\n            embedding: embeddings[index]\n        }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvZW1iZWRkaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUNTO0FBRXhDLE1BQU1FLGlCQUFpQkQsa0RBQU1BLENBQUNFLFNBQVMsQ0FBQztBQUV4QywrQ0FBK0M7QUFDL0MsTUFBTUMsaUJBQWlCLENBQUNDLE9BQWVDLGVBQWUsR0FBRztJQUN2RCxNQUFNQyxZQUFZRixNQUNmRyxPQUFPLENBQUMsZUFBZSxRQUN2QkMsS0FBSyxDQUFDLE1BQ05DLE1BQU0sQ0FBQ0MsQ0FBQUEsV0FBWUEsU0FBU0MsSUFBSSxPQUFPO0lBRTFDLE1BQU1DLFNBQW1CLEVBQUU7SUFDM0IsSUFBSUMsZUFBZTtJQUVuQixLQUFLLE1BQU1ILFlBQVlKLFVBQVc7UUFDaEMsOEZBQThGO1FBQzlGLElBQUlPLGFBQWFDLE1BQU0sR0FBR0osU0FBU0ksTUFBTSxHQUFHVCxnQkFBZ0JRLGFBQWFDLE1BQU0sR0FBRyxHQUFHO1lBQ25GRixPQUFPRyxJQUFJLENBQUNGLGFBQWFGLElBQUk7WUFDN0JFLGVBQWVIO1FBQ2pCLE9BQU87WUFDTEcsZ0JBQWdCLENBQUNBLGFBQWFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBQyxJQUFLSjtRQUN6RDtJQUNGO0lBRUEsdUNBQXVDO0lBQ3ZDLElBQUlHLGFBQWFGLElBQUksR0FBR0csTUFBTSxHQUFHLEdBQUc7UUFDbENGLE9BQU9HLElBQUksQ0FBQ0YsYUFBYUYsSUFBSTtJQUMvQjtJQUVBLE9BQU9DO0FBQ1Q7QUFFTyxlQUFlSSxtQkFDcEJDLE9BQWU7SUFFZixNQUFNTCxTQUFTVCxlQUFlYztJQUM5QixNQUFNLEVBQUVDLFVBQVUsRUFBRSxHQUFHLE1BQU1uQiw2Q0FBU0EsQ0FBQztRQUNyQ29CLE9BQU9sQjtRQUNQbUIsUUFBUVI7SUFDVjtJQUVBLE9BQU9BLE9BQU9TLEdBQUcsQ0FBQyxDQUFDQyxPQUFPQyxRQUFXO1lBQ25DTixTQUFTSztZQUNUcEIsV0FBV2dCLFVBQVUsQ0FBQ0ssTUFBTTtRQUM5QjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFN1cmZhY2VcXE9uZURyaXZlXFxEZXNrdG9wXFxzdGVtQUlcXGxpYlxcYWlcXGVtYmVkZGluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbWJlZE1hbnkgfSBmcm9tICdhaSc7XHJcbmltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0BhaS1zZGsvb3BlbmFpJztcclxuXHJcbmNvbnN0IGVtYmVkZGluZ01vZGVsID0gb3BlbmFpLmVtYmVkZGluZygndGV4dC1lbWJlZGRpbmctMy1zbWFsbCcpO1xyXG5cclxuLy8gU3BsaXQgdGV4dCBpbnRvIHNtYWxsZXIgY2h1bmtzIGZvciBlbWJlZGRpbmdcclxuY29uc3QgZ2VuZXJhdGVDaHVua3MgPSAoaW5wdXQ6IHN0cmluZywgbWF4Q2h1bmtTaXplID0gNTEyKTogc3RyaW5nW10gPT4ge1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IGlucHV0XHJcbiAgICAucmVwbGFjZSgvKFsuPyFdKVxccysvZywgJyQxXFxuJylcclxuICAgIC5zcGxpdCgnXFxuJylcclxuICAgIC5maWx0ZXIoc2VudGVuY2UgPT4gc2VudGVuY2UudHJpbSgpICE9PSAnJyk7XHJcbiAgXHJcbiAgY29uc3QgY2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGxldCBjdXJyZW50Q2h1bmsgPSAnJztcclxuICBcclxuICBmb3IgKGNvbnN0IHNlbnRlbmNlIG9mIHNlbnRlbmNlcykge1xyXG4gICAgLy8gSWYgYWRkaW5nIHRoaXMgc2VudGVuY2Ugd291bGQgZXhjZWVkIG1heCBjaHVuayBzaXplLCBzYXZlIGN1cnJlbnQgY2h1bmsgYW5kIHN0YXJ0IGEgbmV3IG9uZVxyXG4gICAgaWYgKGN1cnJlbnRDaHVuay5sZW5ndGggKyBzZW50ZW5jZS5sZW5ndGggPiBtYXhDaHVua1NpemUgJiYgY3VycmVudENodW5rLmxlbmd0aCA+IDApIHtcclxuICAgICAgY2h1bmtzLnB1c2goY3VycmVudENodW5rLnRyaW0oKSk7XHJcbiAgICAgIGN1cnJlbnRDaHVuayA9IHNlbnRlbmNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VycmVudENodW5rICs9IChjdXJyZW50Q2h1bmsubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHNlbnRlbmNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBBZGQgdGhlIGxhc3QgY2h1bmsgaWYgaXQncyBub3QgZW1wdHlcclxuICBpZiAoY3VycmVudENodW5rLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICBjaHVua3MucHVzaChjdXJyZW50Q2h1bmsudHJpbSgpKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGNodW5rcztcclxufTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVtYmVkZGluZ3MoXHJcbiAgY29udGVudDogc3RyaW5nXHJcbik6IFByb21pc2U8QXJyYXk8eyBlbWJlZGRpbmc6IG51bWJlcltdOyBjb250ZW50OiBzdHJpbmcgfT4+IHtcclxuICBjb25zdCBjaHVua3MgPSBnZW5lcmF0ZUNodW5rcyhjb250ZW50KTtcclxuICBjb25zdCB7IGVtYmVkZGluZ3MgfSA9IGF3YWl0IGVtYmVkTWFueSh7XHJcbiAgICBtb2RlbDogZW1iZWRkaW5nTW9kZWwsXHJcbiAgICB2YWx1ZXM6IGNodW5rcyxcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gY2h1bmtzLm1hcCgoY2h1bmssIGluZGV4KSA9PiAoe1xyXG4gICAgY29udGVudDogY2h1bmssXHJcbiAgICBlbWJlZGRpbmc6IGVtYmVkZGluZ3NbaW5kZXhdLFxyXG4gIH0pKTtcclxufSAiXSwibmFtZXMiOlsiZW1iZWRNYW55Iiwib3BlbmFpIiwiZW1iZWRkaW5nTW9kZWwiLCJlbWJlZGRpbmciLCJnZW5lcmF0ZUNodW5rcyIsImlucHV0IiwibWF4Q2h1bmtTaXplIiwic2VudGVuY2VzIiwicmVwbGFjZSIsInNwbGl0IiwiZmlsdGVyIiwic2VudGVuY2UiLCJ0cmltIiwiY2h1bmtzIiwiY3VycmVudENodW5rIiwibGVuZ3RoIiwicHVzaCIsImdlbmVyYXRlRW1iZWRkaW5ncyIsImNvbnRlbnQiLCJlbWJlZGRpbmdzIiwibW9kZWwiLCJ2YWx1ZXMiLCJtYXAiLCJjaHVuayIsImluZGV4Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/embedding.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/index.ts":
/*!*************************!*\
  !*** ./lib/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunks: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.chunks),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   documents: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_1__.documents)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n/* harmony import */ var drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/neon-http */ \"(rsc)/./node_modules/drizzle-orm/neon-http/driver.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./lib/db/schema.ts\");\n\n\n\n_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neonConfig.fetchOptions = {\n    cache: 'no-store'\n};\nif (!process.env.DATABASE_URL) {\n    throw new Error('DATABASE_URL environment variable is not set');\n}\nconst sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(process.env.DATABASE_URL);\nconst db = (0,drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__.drizzle)(sql, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTREO0FBQ1o7QUFDYjtBQUVuQ0MsZ0VBQVVBLENBQUNHLFlBQVksR0FBRztJQUN4QkMsT0FBTztBQUNUO0FBRUEsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFBRTtJQUM3QixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxNQUFNQyxNQUFNViw4REFBSUEsQ0FBQ00sUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBQ2xDLE1BQU1HLEtBQUtULDhEQUFPQSxDQUFDUSxLQUFLO0lBQUVQLE1BQU1BLHNDQUFBQTtBQUFDLEdBQUc7QUFFbEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU3VyZmFjZVxcT25lRHJpdmVcXERlc2t0b3BcXHN0ZW1BSVxcbGliXFxkYlxcaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmVvbiwgbmVvbkNvbmZpZyB9IGZyb20gJ0BuZW9uZGF0YWJhc2Uvc2VydmVybGVzcyc7XHJcbmltcG9ydCB7IGRyaXp6bGUgfSBmcm9tICdkcml6emxlLW9ybS9uZW9uLWh0dHAnO1xyXG5pbXBvcnQgKiBhcyBzY2hlbWEgZnJvbSAnLi9zY2hlbWEnO1xyXG5cclxubmVvbkNvbmZpZy5mZXRjaE9wdGlvbnMgPSB7XHJcbiAgY2FjaGU6ICduby1zdG9yZScsXHJcbn07XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcignREFUQUJBU0VfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKTtcclxufVxyXG5cclxuY29uc3Qgc3FsID0gbmVvbihwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpO1xyXG5leHBvcnQgY29uc3QgZGIgPSBkcml6emxlKHNxbCwgeyBzY2hlbWEgfSk7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL3NjaGVtYSc7ICJdLCJuYW1lcyI6WyJuZW9uIiwibmVvbkNvbmZpZyIsImRyaXp6bGUiLCJzY2hlbWEiLCJmZXRjaE9wdGlvbnMiLCJjYWNoZSIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciIsInNxbCIsImRiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/schema.ts":
/*!**************************!*\
  !*** ./lib/db/schema.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunks: () => (/* binding */ chunks),\n/* harmony export */   documents: () => (/* binding */ documents)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/serial.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/vector_extension/vector.js\");\n\n\nconst documents = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('documents', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)('id').primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)('title', {\n        length: 255\n    }).notNull(),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)('content').notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at').defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('updated_at').defaultNow().notNull()\n});\nconst chunks = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('chunks', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)('id').primaryKey(),\n    documentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)('document_id').references(()=>documents.id, {\n        onDelete: 'cascade'\n    }),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)('content').notNull(),\n    embedding: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.vector)('embedding', {\n        dimensions: 1536\n    }),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at').defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('updated_at').defaultNow().notNull()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvc2NoZW1hLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdGO0FBQ25DO0FBRXRDLE1BQU1NLFlBQVlOLDREQUFPQSxDQUFDLGFBQWE7SUFDNUNPLElBQUlOLDJEQUFNQSxDQUFDLE1BQU1PLFVBQVU7SUFDM0JDLE9BQU9MLDREQUFPQSxDQUFDLFNBQVM7UUFBRU0sUUFBUTtJQUFJLEdBQUdDLE9BQU87SUFDaERDLFNBQVNWLHlEQUFJQSxDQUFDLFdBQVdTLE9BQU87SUFDaENFLFdBQVdWLDhEQUFTQSxDQUFDLGNBQWNXLFVBQVUsR0FBR0gsT0FBTztJQUN2REksV0FBV1osOERBQVNBLENBQUMsY0FBY1csVUFBVSxHQUFHSCxPQUFPO0FBQ3pELEdBQUc7QUFFSSxNQUFNSyxTQUFTaEIsNERBQU9BLENBQUMsVUFBVTtJQUN0Q08sSUFBSU4sMkRBQU1BLENBQUMsTUFBTU8sVUFBVTtJQUMzQlMsWUFBWWhCLDJEQUFNQSxDQUFDLGVBQWVpQixVQUFVLENBQUMsSUFBTVosVUFBVUMsRUFBRSxFQUFFO1FBQUVZLFVBQVU7SUFBVTtJQUN2RlAsU0FBU1YseURBQUlBLENBQUMsV0FBV1MsT0FBTztJQUNoQ1MsV0FBV2YsMkRBQU1BLENBQUMsYUFBYTtRQUFFZ0IsWUFBWTtJQUFLO0lBQ2xEUixXQUFXViw4REFBU0EsQ0FBQyxjQUFjVyxVQUFVLEdBQUdILE9BQU87SUFDdkRJLFdBQVdaLDhEQUFTQSxDQUFDLGNBQWNXLFVBQVUsR0FBR0gsT0FBTztBQUN6RCxHQUFHIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFN1cmZhY2VcXE9uZURyaXZlXFxEZXNrdG9wXFxzdGVtQUlcXGxpYlxcZGJcXHNjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCBzZXJpYWwsIHRleHQsIHRpbWVzdGFtcCwgdmFyY2hhciB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xyXG5pbXBvcnQgeyB2ZWN0b3IgfSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcclxuXHJcbmV4cG9ydCBjb25zdCBkb2N1bWVudHMgPSBwZ1RhYmxlKCdkb2N1bWVudHMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgdGl0bGU6IHZhcmNoYXIoJ3RpdGxlJywgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXHJcbiAgY29udGVudDogdGV4dCgnY29udGVudCcpLm5vdE51bGwoKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjaHVua3MgPSBwZ1RhYmxlKCdjaHVua3MnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgZG9jdW1lbnRJZDogc2VyaWFsKCdkb2N1bWVudF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gZG9jdW1lbnRzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY29udGVudDogdGV4dCgnY29udGVudCcpLm5vdE51bGwoKSxcclxuICBlbWJlZGRpbmc6IHZlY3RvcignZW1iZWRkaW5nJywgeyBkaW1lbnNpb25zOiAxNTM2IH0pLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXHJcbn0pOyAiXSwibmFtZXMiOlsicGdUYWJsZSIsInNlcmlhbCIsInRleHQiLCJ0aW1lc3RhbXAiLCJ2YXJjaGFyIiwidmVjdG9yIiwiZG9jdW1lbnRzIiwiaWQiLCJwcmltYXJ5S2V5IiwidGl0bGUiLCJsZW5ndGgiLCJub3ROdWxsIiwiY29udGVudCIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJjaHVua3MiLCJkb2N1bWVudElkIiwicmVmZXJlbmNlcyIsIm9uRGVsZXRlIiwiZW1iZWRkaW5nIiwiZGltZW5zaW9ucyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Surface_OneDrive_Desktop_stemAI_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Surface\\\\OneDrive\\\\Desktop\\\\stemAI\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Surface_OneDrive_Desktop_stemAI_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTdXJmYWNlJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDc3RlbUFJJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNTdXJmYWNlJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDc3RlbUFJJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcU3VyZmFjZVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHN0ZW1BSVxcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcU3VyZmFjZVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHN0ZW1BSVxcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/@ai-sdk","vendor-chunks/zod","vendor-chunks/zod-to-json-schema","vendor-chunks/secure-json-parse","vendor-chunks/nanoid","vendor-chunks/drizzle-orm","vendor-chunks/ai","vendor-chunks/@neondatabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSurface%5COneDrive%5CDesktop%5CstemAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();